CREATE DATABASE QUANLYLINHKIEN;
GO

USE QUANLYLINHKIEN;
GO

CREATE TABLE NHASANXUAT
(
	maNhaSanXuat VARCHAR(10) NOT NULL,
	tenNhaSanXuat NVARCHAR(40) NOT NULL,
	CONSTRAINT PK_NHASANXUAT PRIMARY KEY(maNhaSanXuat)
)

CREATE TABLE SANPHAMLINHKIEN
(
	maSanPham VARCHAR(10) NOT NULL,
	loaiSanPham NVARCHAR(40) NOT NULL,
	tenSanPham NVARCHAR(50) NOT NULL,
	xuatXu NVARCHAR(50),
	thoiGianBaoHanh NVARCHAR(20),
	giaSauThue INT,
	giaTruocThue INT,
	soLuongTon INT,
	maNhaSanXuat VARCHAR(10),
	CONSTRAINT PK_SANPHAMLINHKIEN PRIMARY KEY(maSanPham),
	CONSTRAINT FK_SANPHAMLINHKIEN_MANHASANXUAT FOREIGN KEY(maNhaSanXuat) REFERENCES NHASANXUAT(maNhaSanXuat),
)

CREATE TABLE PHONGBAN
(
	maPhongBan VARCHAR(10),
	tenPhongBan NVARCHAR(30)
	CONSTRAINT PK_PHONGBAN PRIMARY KEY(maPhongBan),
)

CREATE TABLE THETHANHVIEN
(
	maThe VARCHAR(10),
	uuDai NVARCHAR(30),
	diemTichLuy INT,
	CONSTRAINT PK_THETHANHVIEN PRIMARY KEY(maThe),
)

CREATE TABLE NHANVIEN
(
	maNhanVien VARCHAR(10),
	ho NVARCHAR(20) NOT NULL,
	dem NVARCHAR(20) NOT NULL,
	ten NVARCHAR(20) NOT NULL,
	gioiTinh BIT,
	diaChi NVARCHAR,
	mucLuong INT,
	maPhongBan VARCHAR(10),
	CONSTRAINT PK_NHANVIEN PRIMARY KEY(maNhanVien),
	CONSTRAINT FK_NHANVIEN_MAPHONGBAN FOREIGN KEY(maPhongBan) REFERENCES PHONGBAN(maPhongBan),
)

CREATE TABLE KHACHHANG
(
	maKhachHang VARCHAR(10) NOT NULL,
	ho NVARCHAR(20) NOT NULL,
	dem NVARCHAR(20) NOT NULL,
	ten NVARCHAR(20) NOT NULL,
	gioiTinh BIT,
	diaChi NVARCHAR,
	soDienThoai INT,
	maThe VARCHAR(10),
	CONSTRAINT PK_KHACHHANG PRIMARY KEY(maKhachHang),
	CONSTRAINT FK_KHACHHANG_MATHE FOREIGN KEY(maThe) REFERENCES THETHANHVIEN(maThe),
)

CREATE TABLE HOADON
(
	maHoaDon VARCHAR(10) NOT NULL,
	ngayBan DATETIME,
	ngayNhan DATETIME,
	gia INT,
	soLuongBan INT,
	maKhachHang VARCHAR(10),
	maSanPham VARCHAR(10),
	maNhanVien VARCHAR(10),
	CONSTRAINT PK_HOADON PRIMARY KEY(maHoaDon),
	CONSTRAINT FK_HOADON_MAKHACHHANG FOREIGN KEY(maKhachHang) REFERENCES KHACHHANG(maKhachHang),
	CONSTRAINT FK_HOADON_MASANPHAM FOREIGN KEY(maSanPham) REFERENCES SANPHAMLINHKIEN(maSanPham),
	CONSTRAINT FK_HOADON_MANHANVIEN FOREIGN KEY(maNhanVien) REFERENCES NHANVIEN(maNhanVien),
)

------

INSERT INTO NHASANXUAT(maNhaSanXuat,tenNhaSanXuat) VALUES
('SANXUAT01',N'TOSHIBA'),
('SANXUAT02',N'CORSAIR'),
('SANXUAT03',N'MSI'),
('SANXUAT04',N'GIGABYTE'),
('SANXUAT05',N'INTEL')

INSERT INTO SANPHAMLINHKIEN (maSanPham,tenSanPham,loaiSanPham,xuatXu,thoiGianBaoHanh,giaTruocThue,giaSauThue,soLuongTon) VALUES
('SANPHAM01',N'CPU',N'Linh kiện máy tính',N'Mỹ', N'3 Năm', '10000000','15000000',20),
('SANPHAM01',N'RAM',N'Linh kiện máy tính',N'Mỹ', N'2 Năm', '1000000','1200000',10),
('SANPHAM01',N'PIN',N'Linh kiện vi mạch',N'Singapore', N'1 Năm', '1000000','110000',14),
('SANPHAM01',N'Bút thử điện',N'Linh kiện cứng',N'Trung Quốc', N'3 tháng', '102000','142000',9),
('SANPHAM01',N'Xạc điện thoại',N'Linh kiện điện thoại',N'Pháp', N'1 tháng', '60000','100000',3)

INSERT INTO NHANVIEN(maNhanVien,ho,dem,ten,mucLuong,diaChi,gioiTinh) VALUES
('NHANVIEN01',N'Trần',N'Minh',N'Đức','10000000',N'Quảng Ninh',0),
('NHANVIEN02',N'Phạm',N'Hưng',N'Thịnh','8000000',N'Hải Phòng',0),
('NHANVIEN03',N'Vũ',N'Khắc Đăng',N'Linh','7000000',N'Hà Nội',0),
('NHANVIEN04',N'Nguyễn',N'Hữu',N'Nam','5000000',N'Hà Nội',0),
('NHANVIEN05',N'Nguyễn',N'Tinh',N'Tú','1000000',N'Hà Nội',1)

INSERT INTO KHACHHANG(maKhachHang,ho,dem,ten,soDienThoai,diaChi,gioiTinh) VALUES
('KHACHHANG01',N'Trương',N'Tuấn',N'Anh','123456789',N'Hà Nội',0),
('KHACHHANG02',N'Vũ',N'Thu',N'Hương','987654321',N'Hà Nội',1),
('KHACHHANG03',N'Diệp',N'Minh',N'Tùng','246813579',N'Hà Nội',0),
('KHACHHANG04',N'Trương',N'Tuấn',N'Anh','135792468',N'Hà Nội',0),
('KHACHHANG05',N'Phạm',N'Thùy',N'Linh','19001003',N'Hà Nội',1)

INSERT INTO PHONGBAN(maPhongBan,tenPhongBan) VALUES
('PHONGBAN01',N'Phòng Nhân Sự'),
('PHONGBAN01',N'Phòng Sale'),
('PHONGBAN01',N'Phòng Marketing'),
('PHONGBAN01',N'Phòng Công nghệ thông tin'),
('PHONGBAN01',N'Phòng Đối ngoại')

INSERT INTO THETHANHVIEN(maThe,uuDai,diemTichLuy) VALUES
('MATHE01',N'giảm giá 50%','1000'),
('MATHE02',N'giảm giá 30%','2000'),
('MATHE03',N'giảm giá 10%','4000')

-- IN RA TẤT CẢ DỮ LIỆU

SELECT * FROM NHASANXUAT
SELECT * FROM SANPHAMLINHKIEN
SELECT * FROM NHANVIEN
SELECT * FROM KHACHHANG
SELECT * FROM HOADON
SELECT * FROM PHONGBAN
SELECT * FROM THETHANHVIEN
